<div class="bg-gray-50 font-sans antialiased text-gray-800 w-[100%]">

  <main class="max-w-6xl mx-auto p-6 ">
    <!-- Photo section -->
    <div class="shadow-md rounded-2xl overflow-hidden grid grid-col-1 md:grid-cols-2 gap-6">
      <!-- image gallery -->
      <section class="p-6">
        <div class="flex flex-col gap-4 md:flex-row">
          <!-- w-96 h-96 border rounded flex items-center justify-center bg-white -->
          <div class="flex flex-col md:flex-row gap-4">
            <div class="w-full md:w-3/4">
              <!-- contain make the all image appear  -->
              <img [src]="selectedImage" alt="" class="w-full h-full object-contain p-6 ">
            </div>
          </div>

          <!-- switch images -->
          <div class="flex w-full overflow-auto gap-3 md:w-1/3 md:flex-col">
            @for(media of product.medias; track media.cloudinaryPublicId) {
            <button (click)="selectImage(media.url)" (mouseover)="selectImage(media.url)"
              class="thumb focus:outline-none ">
              <!-- cover make image cover the button even if the part of image is not visible -->
              <img [src]="media.url" alt="" class="w-20 h-20 object-cover rounded-lg border">
            </button>
            }
          </div>
        </div>
      </section>

      <!-- Details section -->
      <aside class="p-6">
        <!-- product name -->
        <div class="item-start flex justify-between">
          <div>
            <h1 class="font-semibold text-2xl md:text-3xl">{{product.productName}}</h1>
            <div class="mt-2 flex items-center gap-3 text-sm">
              <span class="bg-gray-100 px-2 py-1 rounded">{{product.brand}}</span>
              <span class="bg-gray-100 px-2 py-1 rounded">{{product.categoryName}}</span>
            </div>
          </div>
          <div class="text-right">
            <div class="text-2xl font-bold text-indigo-600">
              {{product.price}}
            </div>
          </div>
        </div>

        <p class="mt-4 text-gray-600">{{product.description}}</p>

        <!-- vendor -->
        <!-- it should become button to move us to vendor profile -->
        <div class="mt-6 flex items-center gap-3">
          <fa-icon [icon]="faUser" class="w-10 h-10 text-gray-600 text-3xl text-center  rounded-full ob ject-cover">
          </fa-icon>
          <div>
            <div class="text-sm text-gray-600">Sold by</div>
            <div id="vendorName" class="font-medium">{{product.vendor.firstName}} {{product.vendor.lastName}}</div>
          </div>
        </div>

        <!-- buying action -->
        <div class="mt-6 flex flex-col sm:flex-row gap-3">
          <div class="flex items-center gap-2">
            <label for="quantity" class="sr-only">Quantity</label>
            <!-- todo add condition if the value goes more than the amount of the product 
             either make it red and show message says out of stock 
             or more sensable option make the up arraw disabled -->
            <input type="number" min="1" value="1" id="quantity" class="w-20 rounded-md border px-3 py-2">
            <button class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-500">Add to Cart</button>
          </div>
          <button class="px-4 py-2 border rounded-lg hover:bg-gray-50">Buy now</button>
        </div>

        <!-- here may be we add full discrption -->
      </aside>
    </div>

    <!-- and here we will add another product for this vendor -->
    <section class="my-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      @for(product of products; track product.id){
      <div
        class="bg-white cursor-pointer border border-gray-200 rounded-xl shadow-md overflow-hidden transition-all h-full flex flex-col hover:shadow-lg hover:-translate-y-0.5">
        <a routerLink="/product/{{product.id}}" class="no-underline text-inherit flex flex-col h-full">
          <div class="relative pt-[75%] overflow-hidden border-b border-gray-200">
            <img
              class="absolute top-0 left-0 w-full h-full object-cover transition-transform duration-250 hover:scale-105"
              src="{{product.thumbnail}}" alt="{{product.productName}}" />
          </div>
          <div class="p-6 flex-grow flex flex-col gap-1">
            <h5
              class="font-sans font-semibold leading-tight text-slate-800 m-0 text-base mb-1 overflow-hidden text-ellipsis whitespace-nowrap">
              {{ product.productName }}</h5>
            <span class="font-sans leading-normal m-0 text-base text-slate-800 font-bold text-primary">${{ product.price
              }}</span>
          </div>
        </a>
      </div>
      }
    </section>
    <!-- here we will add review -->
  </main>
</div>